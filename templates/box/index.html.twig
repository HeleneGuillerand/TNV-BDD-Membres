{% extends 'base.html.twig' %}

{% block title %}Caissons{% endblock %}

{% block body %}
    <h1>Caissons</h1>
    <a href="{{ path('app_box_new') }}"class="btn btn-primary float-md-end mb-2">Ajouter un caisson</a>
    {{ include ('_flash_messages.html.twig') }}

    <table class="table table-dark table-striped table-hover">
        <thead class="text-center">
            <tr>
                <th>Numéro</th>
                <th>Disponiblité</th>
                <th>Membre</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
        {% for box in boxes %}
            <tr>
                <td class="text-center">{{ box.number }}</td>
                <td class="text-center">
                    {% if (box.status == 1) %}
                        <span class="badge bg-success">Libre</span>
                    {% elseif (box.status == 2) %}
                        <span class="badge bg-danger">Occupé</span>
                    {% elseif (box.status == 3) %}
                       <span class="badge bg-warning">Neutralisé</span>
                    {% endif %} 
                </td>
                <td class="text-center">
                    {% if box.member %}
                        <a href="{{ path('app_member_show', {'id': box.member.id}) }}">{{ box.member.lastname }} {{ box.member.firstname }}</a>
                    {% else %}
                        <span> - </span>
                    {% endif %}
                </td>
                <td class="text-center">
                    <a href="{{ path('app_box_show', {'id': box.id}) }}"class="btn btn-sm btn-primary">
                        <i class="fa fa-eye" aria-hidden="true"></i>
                    </a>
                    <a href="{{ path('app_box_edit', {'id': box.id}) }}"class="btn btn-sm btn-warning mx-1">
                        <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                    </a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="4">Pas de caissons enregistrés</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

{% endblock %}
