{% extends 'base.html.twig' %}

{% block title %}Member index{% endblock %}

{% block body %}
    <h1>Membres</h1>
    <a href="{{ path('app_member_new') }}"class="btn btn-success float-md-end mb-2">Ajouter un membre</a>
    <table class="table table-dark table-striped table-hover ">
        <thead class="text-center">
            <tr>
                <th>Nom</th>
                <th>Prénom</th>
                <th>Date de naissance</th>
                <th>n° Fft</th>
                <th>n° Ffta</th>
                <th>2ème Club</th>
                <th>A payé</th>
                <th>Status</th>
                <th>MàJ</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
        {% for member in members %}
            <tr>
                <td>{{ member.lastname }}</td>
                <td>{{ member.firstname }}</td>
                <td class="text-center">{{ member.dateOfBirth ? member.dateOfBirth|date('d-m-Y') : '' }}</td>
                <td class="text-center">{{ member.fftNumber ?  member.fftNumber : '-' }}</td>
                <td class="text-center">{{ member.fftaNumber ?  member.fftaNumber : '-' }}</td>
                <td class="text-center">{{ member.secondClub }}</td>
                <td class="text-center">
                {% if (member.isRegistered) %}
                    <span class="badge badge-pill bg-success">
                        <i class="fa fa-check" aria-hidden="true"></i>
                    </span>
                {% else %}
                    <span class="badge badge-pill bg-danger">
                        <i class="fa fa-times" aria-hidden="true"></i>
                    </span>
                {% endif %}
                </td>
                <td class="text-center">
                {% if (member.status == 1) %}
                    <span class="badge bg-success">Actif</span>
                {% elseif (member.status == 2) %}
                    <span class="badge bg-danger">Inactif</span>
                {% elseif (member.status == 3) %}
                   <span class="badge bg-warning">Décédé</span>
                {% endif %} 
                </td>
                <td class="text-center">{{ member.updatedAt ? member.updatedAt|date('d-m-Y H:i:s') : '' }}</td>
                <td class="text-center">
                    <a href="{{ path('app_member_show', {'id': member.id}) }}"class="btn btn-sm btn-primary">
                        <i class="fa fa-eye" aria-hidden="true"></i>
                    </a>
                    <a href="{{ path('app_member_edit', {'id': member.id}) }}"class="btn btn-sm btn-warning mx-1">
                        <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                    </a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="32">Pas de membres enregistrés</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    
{% endblock %}
